## ğŸš©ë²”ìœ„ ì§€ì • í•¨ìˆ˜

+ ë²”ìœ„ ì§€ì • í•¨ìˆ˜ê°€ ë¬´ì—‡ì¸ì§€ ê°„ë‹¨íˆ ë§í•˜ë©´ íŠ¹ì • ë²”ìœ„(scope) ë‚´ì—ì„œ íŠ¹ì • ê°ì²´ë¥¼ `this` ë˜ëŠ” `it`ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ë‹¤ì‹œ ë§í•˜ìë©´ ì¤‘ê´„í˜¸ë¡œ í‘œí˜„ë˜ëŠ” ë¸”ë¡(block) ë‚´ì—ì„œ íŠ¹ì • ê°ì²´ë¥¼ `this` ë˜ëŠ” `it`ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆê³  ì´ë¥¼ í†µí•´ì„œ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. 

+ ë²”ìœ„ ì§€ì •í•¨ìˆ˜ë¥¼ ì´í•´í•˜ë ¤ë©´ ë¨¼ì € **ìˆ˜ì‹  ê°ì²´**ì™€ **ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤**ë¼ëŠ” ìš©ì–´ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•˜ë‹¤.

<br>

#### ğŸ“Œ ìˆ˜ì‹ ê°ì²´

+ ìˆ˜ì‹  ê°ì²´ë¥¼ ì´ì•¼ê¸°í•˜ë ¤ë©´ ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” ê²ƒì´ **í™•ì¥ í•¨ìˆ˜**ì´ë‹¤. 

  ```kotlin
  fun main(args: Array<String>) {
      val car = Car("BMW", 50000)
      println(car.getInfo())
  }
  
  class Car(var brand:String, var price:Int) {
  }
  
  fun Car.getInfo(): String {
      return "${this.brand}, $price"
  }
  ```

  Car í´ë˜ìŠ¤ ë‚´ì— ë©¤ë²„ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ì§€ ì•Šê³  í™•ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ `getInfo()` í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ì˜€ë‹¤. í™•ì¥ í•¨ìˆ˜ì—ì„œ ìˆ˜ì‹  ê°ì²´ëŠ” Carìì²´ì´ë‹¤. ì¢€ ë” ë””í…Œì¼í•˜ê²Œ êµ¬ë¶„í•˜ë©´ **CarëŠ” ìˆ˜ì‹  ê°ì²´ì´ì ìˆ˜ì‹  ê°ì²´ íƒ€ì…ì´ë‹¤**. ê·¸ë¦¬ê³  CarëŠ” ë¸”ë¡ ë‚´ì—ì„œëŠ” **this**ë¡œ ì‚¬ìš©í•œë‹¤. ì¦‰ this = Car = ìˆ˜ì‹ ê°ì²´ì´ë‹¤. (ì¼ë°˜ í•¨ìˆ˜ì—ì„œ thisë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” í•´ë‹¹ í•¨ìˆ˜ê°€ ì •ì˜ëœ í´ë˜ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤. ë³´í†µ ë©¤ë²„ ë³€ìˆ˜ëª…ê³¼ ì§€ì—­ ë³€ìˆ˜ëª…ì´ ë™ì¼í•  ê²½ìš° this.ë³€ìˆ˜ëª…ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì ‘ê·¼í•œë‹¤.)

  => Carê°€ ìˆ˜ì‹  ê°ì²´ íƒ€ì…, thisê°€ ìˆ˜ì‹  ê°ì²´ 

  => ì—„ë°€íˆ ë§í•˜ë©´,í•¨ìˆ˜ ë‚´ì˜ thisëŠ” í•´ë‹¹ í•¨ìˆ˜ê°€ ì •ì˜ëœ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ, ê°ì²´ë¥¼ ë§í•˜ëŠ” ê²ƒ ì•„ë‹Œê°€ ?

<br>

#### ğŸ“Œ ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤

+ ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ëŠ” ëŒë‹¤ì— **í™•ì¥í•¨ìˆ˜ì²˜ëŸ¼** ìˆ˜ì‹  ê°ì²´ë¥¼ ì‚¬ìš©í•œ ê²ƒì´ë‹¤. 

  => ì¦‰, ëŒë‹¤ì— thisë¥¼ ì‚¬ìš©í•œ ê²ƒ ?

  ```kotlin
  T.() -> R
  ```

  í™•ì¥ í•¨ìˆ˜ì—ì„œ ìˆ˜ì‹  ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡ ë‚´ì— ê°ì²´ë¥¼ ì „ë‹¬í–ˆë“¯ì´(thisë¥¼ í†µí•´ ê°ì²´ë¥¼ ì ‘ê·¼) ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ ë˜í•œ ìˆ˜ì‹  ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤. ë”°ë¼ì„œ ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ì—ì„œëŠ” ìˆ˜ì‹  ê°ì²´ë¥¼ thisë¡œ ëŒ€ì‹ í•  ìˆ˜ ìˆë‹¤. ë˜í•œ thisë¥¼ ìƒëµí•˜ê³  í•´ë‹¹ ê°ì²´ì˜ ë©¤ë²„ì— ë°”ë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤. 

+ ë°˜ë©´ ì¼ë°˜ ëŒë‹¤ëŠ” ê°ì²´ë¥¼ ì¸ìë¡œ ì „ë‹¬í•œë‹¤. ëŒë‹¤ì˜ ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ë¿ì´ê³  ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ìˆì„ ë•Œ ê°ì²´ëŠ” ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜ì¸ itìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. 

  ```kotlin
  (T) -> R
  ```

<br>

#### ğŸ“Œ with

+ `with(  ) { ... }`

  => with í•¨ìˆ˜ëŠ” ì²«ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ê°ì²´ë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ëŒë‹¤ì˜ ìˆ˜ì‹  ê°ì²´ë¡œ ë§Œë“ ë‹¤. 

+ ê·¸ëŸ¼ withì€ ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ì¸ê°€ ?   ã…‡ã…‡ ë§ëŠ” ë“¯ 

<Br>

### ë²”ìœ„ ì§€ì • í•¨ìˆ˜

+ ê³µì‹ë¬¸ì„œëŠ” ë‹¤ì„¯ ê°€ì§€ì˜ ë²”ìœ„ í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•œë‹¤.

  ```kotlin
  inline fun <T, R> with(receiver: T, block: T.() -> R): R
  //Calls the specified function block with the given receiver as its receiver and returns its result.
  
  inline fun <T, R> T.run(block: T.() -> R): R
  //Calls the specified function block with this value as its argument and returns its result.
  
  inline fun <T, R> T.let(block: (T) -> R): R
  //Calls the specified function block with this value as its argument and returns its result.
  
  inline fun <T> T.apply(block: T.() -> Unit): T
  //Calls the specified function block with this value as its receiver and returns this value.
  
  inline fun <T> T.also(block: (T) -> Unit): T
  //Calls the specified function block with this value as its argument and returns this value.
  ```

  ì£¼ì„ì— í•´ë‹¹í•˜ëŠ” ì„¤ëª…ì„ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ëœë‹¤.

  ```kotlin
  inline fun <T, R> with(receiver: T, block: T.() -> R): R {
      return receiver.block()
  }
  
  inline fun <T, R> T.run(block: T.() -> R): R {
      return block()
  }
  
  inline fun <T, R> T.let(block: (T) -> R): R {
      return block(this)
  }
  
  inline fun <T> T.apply(block: T.() -> Unit): T {
      block()
      return this
  }
  
  inline fun <T> T.also(block: (T) -> Unit): T {
      block(this)
      return this
  }
  ```

  + with : ì¼ë°˜ í•¨ìˆ˜ì˜ í˜•íƒœë¡œ ì²« ë²ˆì§¸ ì¸ìì— ê°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì „ë‹¬í•˜ê³  ë‘ ë²ˆì§¸ ì¸ìì— ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬í„´ ê°’ì€ ë¸”ë¡ì˜ ì‹¤í–‰ê²°ê³¼ì´ë‹¤. 
  + run : ì¸ìì— ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬í„´ ê°’ì€ ë¸”ë¡ì˜ ì‹¤í–‰ ê²°ê³¼ì´ë‹¤.
  + let : ì¸ìì— ì¼ë°˜ ëŒë‹¤ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬í„´ ê°’ì€ ë¸”ë¡ì˜ ì‹¤í–‰ ê²°ê³¼ì´ë‹¤. 
  + apply : ì¸ìì— ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬í„´ ê°’ì€ ìˆ˜ì‹  ê°ì²´ì´ë‹¤. 
  + also :  ì¸ìì— ì¼ë°˜ ëŒë‹¤ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬í„´ ê°’ì€ ìˆ˜ì‹  ê°ì²´ì´ë‹¤.

<br>

> ì°¸ê³  
>
> - [ì½”í‹€ë¦° with, run, let, apply, also](https://brunch.co.kr/@mystoryg/151)
>
> - [í™•ì¥í•¨ìˆ˜](https://brunch.co.kr/@mystoryg/18)

